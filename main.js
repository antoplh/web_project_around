!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}e.p="";var o=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".card__title").textContent=this._name,this._element.querySelector(".card__image").src=this._link,this._element.querySelector(".card__image").alt=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__heart").addEventListener("click",(function(){return e._handleHeartCard()})),this._element.querySelector(".card__delete").addEventListener("click",(function(){return e._handleDeleteCard()})),this._element.querySelector(".card__image").addEventListener("click",(function(){return e._handleCardClick(e._link,e._name)}))}},{key:"_handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_handleHeartCard",value:function(){this._element.querySelector(".card__heart").classList.toggle("card__heart_active")}}])&&n(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var c=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n},(t=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.remove(this._config.activeButtonClass),t.disabled=!0):(t.classList.add(this._config.activeButtonClass),t.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),n=this._formElement.querySelector(this._config.submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),n=this._formElement.querySelector(this._config.submitButtonSelector);t.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState(t,n)}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var p=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._popupElement=document.querySelector(t),this._closePopupButton=this._popupElement.querySelector(".form__button-close")},(t=[{key:"open",value:function(){this._popupElement.classList.contains("popup_opened")||(this._popupElement.classList.add("popup_opened"),this._handleEscClose())}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(){var e=this;document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.close()}))}},{key:"setEventListeners",value:function(){var e=this;this._handleEscClose(),this._popupElement.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()})),this._closePopupButton.addEventListener("click",(function(){e.close()}))}},{key:"getElement",value:function(){return this._popupElement}}])&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function h(e,t,n,r){var o=_(d(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},_.apply(null,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var g=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t,n){return t=d(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}(this,t,[e]))._userInfo=r,o._submitCallback=n,o._form=o._popupElement.querySelector(".form"),o._inputList=o._form.querySelectorAll(".form__input"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,(r=[{key:"open",value:function(){if(h(t,"open",this,3)([]),"#profile-popup"==this._popupSelector&&this._userInfo){var e=this._userInfo.getUserInfo(),n=e.name,r=e.job;this._form.querySelector('input[name="name"]').value=n,this._form.querySelector('input[name="aboutme"]').value=r}}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;h(t,"setEventListeners",this,3)([]),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues())}))}},{key:"close",value:function(){h(t,"close",this,3)([]),this._form.reset()}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(null,arguments)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=O(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,n||[],O(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,r=[{key:"open",value:function(e,n){var r,o,i,u=this._popupElement.querySelector(".popup__image"),a=this._popupElement.querySelector(".popup__caption");u.src=e,u.alt=n,a.textContent=n,(r=t,o=this,"function"==typeof(i=P(O(1&3?r.prototype:r),"open",o))?function(e){return i.apply(o,e)}:i)([])}}],r&&E(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function B(e){var t=function(e){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}var T=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"renderer",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&I(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function x(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}var D=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r)},(t=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameElement.textContent=t,this._jobElement.textContent=n}}])&&V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var W=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(t=[{key:"get",value:function(){fetch(baseurl).then((function(e){return e.ok?e.json():Promise.reject()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}])&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),H=e.p+"87587e34cbae92f132bb.png";document.querySelectorAll(".form__button-close-img").forEach((function(e){e.src=H}));var M=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),Y=new D({nameSelector:".profile__name",jobSelector:".profile__description"}),F=new T({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"MontaÃ±as Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t=new o(e,"#card-template",J).generateCard();F.addItem(t)}},".cards");F.renderer();var G=new L("#image-popup");function J(e,t){G.open(e,t)}G.setEventListeners();var K=new g("#place-popup",(function(e){var t=new o({name:e.title,link:e.url},"#card-template",J).generateCard();F.addItem(t),K.close()}));K.setEventListeners();var Q=new g("#profile-popup",(function(e){Y.setUserInfo({name:e.name,job:e.aboutme}),Q.close()}),Y);Q.setEventListeners();var X={errorClass:"form__input-error_active",inputErrorClass:"form__input_type_error",activeButtonClass:"form__button-save_active",formSelector:".form",submitButtonSelector:".form__button-save",inputSelector:".form__input"},Z=new c(X,Q.getElement()),$=new c(X,K.getElement());Z.enableValidation(),$.enableValidation(),M.addEventListener("click",(function(){Q.open(),Z.resetValidation()})),N.addEventListener("click",(function(){K.open(),$.resetValidation()})),new W({baseURl:"https://around.nomoreparties.co/v1/web-es-cohort-16/cards",headers:{authorization:"3affd1de-5700-4699-bd1e-708179068d5e"}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNQdUMsY0FBZSx5QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljazsgLy8gUGFyYSB1c2FyIFBvcHVwV2l0aEltYWdlXHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2hlYXJ0XCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlSGVhcnRDYXJkKCkpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbGluaywgdGhpcy5fbmFtZSlcclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUhlYXJ0Q2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faGVhcnRcIilcclxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19oZWFydF9hY3RpdmVcIik7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG5cclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Nsb3NlUG9wdXBCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuZm9ybV9fYnV0dG9uLWNsb3NlXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICAvLyBhYnJlIGVsIHBvcHVwXHJcbiAgICBpZiAoIXRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcclxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgLy8gY2llcnJhIGVsIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlKCkge1xyXG4gICAgLy8gYWxtYWNlbmEgbG9naWNhIHBhcmEgY2VycmFyIGVsIHBvcHVwIGFsIHB1bHNhciBlc2NcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIGFncmVnYSB1biBkZXRlY3RvciBkZSBldmVudG9zIGRlIGNsaWNrIGFsIGljb25vIGRlXHJcbiAgICAvLyBjZXJyYXIgZWwgcG9wdXAuIFRhbWJpZW4gbGEgdmVudGFuYSBkZWJlIGNlcnJhcnNlXHJcbiAgICAvLyBjdWFuZG8gZWwgdXN1YXJpbyBoYWNlIGNsaWMgZW4gZWwgYXJlYSBmdWVyYSBkZWwgZm9ybXVsYXJpb1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jbG9zZVBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXRFbGVtZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvcHVwRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Q2FsbGJhY2ssIHVzZXJJbmZvKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvID0gdXNlckluZm87XHJcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIik7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICBpZiAodGhpcy5fcG9wdXBTZWxlY3RvciA9PSBcIiNwcm9maWxlLXBvcHVwXCIgJiYgdGhpcy5fdXNlckluZm8pIHtcclxuICAgICAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHRoaXMuX3VzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm5hbWVcIl0nKS52YWx1ZSA9IG5hbWU7XHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImFib3V0bWVcIl0nKS52YWx1ZSA9IGpvYjtcclxuICAgIH1cclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBvcGVuKGltYWdlU3JjLCBpbWFnZUFsdCkge1xyXG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgY29uc3QgY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICAgIGltYWdlRWxlbWVudC5zcmMgPSBpbWFnZVNyYztcclxuICAgIGltYWdlRWxlbWVudC5hbHQgPSBpbWFnZUFsdDtcclxuICAgIGNhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gaW1hZ2VBbHQ7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyZXIoKSB7XHJcbiAgICAvLyBSZW5kZXJpemFtb3MgdG9kb3MgbG9zIGVsZW1lbnRvcyBwYXNhZG9zIGVuIGBpdGVtc2BcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgLy8gQcOxYWRpbW9zIHVuIG51ZXZvIGVsZW1lbnRvIGFsIGNvbnRlbmVkb3JcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gam9iO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcbiAgZ2V0KCkge1xyXG4gICAgZmV0Y2goYmFzZXVybClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKHJlcykpXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQgXCIuL3N0eWxlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IGNsb3NlQnV0dG9uU3JjIGZyb20gXCIuL2ltYWdlcy9DbG9zZV9JY29uLnBuZ1wiO1xyXG5cclxuY29uc3QgY2xvc2VCdXR0b25JbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2J1dHRvbi1jbG9zZS1pbWdcIik7XHJcblxyXG5jbG9zZUJ1dHRvbkltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xyXG4gIGltYWdlLnNyYyA9IGNsb3NlQnV0dG9uU3JjO1xyXG59KTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZFBsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5cclxuLy8gSW5pY2lhbGl6YXIgVXNlckluZm9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG59KTtcclxuXHJcbi8vIFJlbmRlcml6YW1vcyBsYXMgdGFyamV0YXMgaW5pY2lhbGVzXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzXCJcclxuKTtcclxuXHJcbmNhcmRTZWN0aW9uLnJlbmRlcmVyKCk7XHJcblxyXG4vLyBQb3B1cCBwYXJhIGltw6FnZW5lc1xyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLXBvcHVwXCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhsaW5rLCBuYW1lKSB7XHJcbiAgaW1hZ2VQb3B1cC5vcGVuKGxpbmssIG5hbWUpO1xyXG59XHJcblxyXG4vLyBQb3B1cCBwYXJhIGFncmVnYXIgbnVldmEgdGFyamV0YVxyXG5jb25zdCBwbGFjZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcGxhY2UtcG9wdXBcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgeyBuYW1lOiBmb3JtRGF0YS50aXRsZSwgbGluazogZm9ybURhdGEudXJsIH0sXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2tcclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICBwbGFjZVBvcHVwLmNsb3NlKCk7XHJcbn0pO1xyXG5wbGFjZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBQb3B1cCBwYXJhIGVkaXRhciBwZXJmaWxcclxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1wb3B1cFwiLFxyXG4gIChmb3JtRGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICBuYW1lOiBmb3JtRGF0YS5uYW1lLFxyXG4gICAgICBqb2I6IGZvcm1EYXRhLmFib3V0bWUsXHJcbiAgICB9KTtcclxuICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xyXG4gIH0sXHJcbiAgdXNlckluZm9cclxuKTtcclxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBWYWxpZGFjacOzbiBkZSBmb3JtdWxhcmlvc1xyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBhY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b24tc2F2ZV9hY3RpdmVcIixcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uLXNhdmVcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG59O1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIHByb2ZpbGVQb3B1cC5nZXRFbGVtZW50KClcclxuKTtcclxuY29uc3QgcGxhY2VGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwbGFjZVBvcHVwLmdldEVsZW1lbnQoKVxyXG4pO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyBFdmVudG9zIHBhcmEgYWJyaXIgcG9wdXBzXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG5hZGRQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBsYWNlUG9wdXAub3BlbigpO1xyXG4gIHBsYWNlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vLyBBUEkgQ2FsbHNcclxuY29uc3QgYXBpT3B0aW9ucyA9IHtcclxuICBiYXNlVVJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViLWVzLWNvaG9ydC0xNi9jYXJkc1wiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiM2FmZmQxZGUtNTcwMC00Njk5LWJkMWUtNzA4MTc5MDY4ZDVlXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpT3B0aW9ucyk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVIZWFydENhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJhY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfdGhpczIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VQb3B1cEJ1dHRvbiIsImNvbnRhaW5zIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwic3VibWl0Q2FsbGJhY2siLCJ1c2VySW5mbyIsIl9jYWxsU3VwZXIiLCJfdXNlckluZm8iLCJfc3VibWl0Q2FsbGJhY2siLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJfaW5oZXJpdHMiLCJfc3VwZXJQcm9wR2V0IiwiX3RoaXMkX3VzZXJJbmZvJGdldFVzIiwiZ2V0VXNlckluZm8iLCJqb2IiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiYXJndW1lbnRzIiwiaW1hZ2VTcmMiLCJpbWFnZUFsdCIsImltYWdlRWxlbWVudCIsImNhcHRpb25FbGVtZW50IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX3JlZjIiLCJBcGkiLCJvcHRpb25zIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsImJhc2V1cmwiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiaW1hZ2UiLCJjbG9zZUJ1dHRvblNyYyIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkUGxhY2VCdXR0b24iLCJjYXJkU2VjdGlvbiIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsImltYWdlUG9wdXAiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwbGFjZVBvcHVwIiwiZm9ybURhdGEiLCJ0aXRsZSIsInVybCIsInByb2ZpbGVQb3B1cCIsInNldFVzZXJJbmZvIiwiYWJvdXRtZSIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImdldEVsZW1lbnQiLCJwbGFjZUZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiYmFzZVVSbCIsImF1dGhvcml6YXRpb24iXSwic291cmNlUm9vdCI6IiJ9